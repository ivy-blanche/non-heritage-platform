<!DOCTYPE html>
<html lang="zh-CN" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>非遗项目</title>
    <!-- 引入 Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/fragment.css}" />
    <style>

        .card2 {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            width: 400px;
            height: 500px;
        }
        .card2:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        body:hover #img_3{
            width: 1400px;
        }
        .carousel {
            position: relative;
            width: 80%;
            max-width: 800px;
            margin: auto;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        .carousel img {
            width: 100%;
            height: auto;
            display: none;
            transition: transform 0.5s ease;
        }
        .carousel img.active {
            display: block;
        }
        .carousel .prev, .carousel .next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 10px;
            cursor: pointer;
            font-size: 20px;
            border-radius: 5px;
        }
        .carousel .prev {
            left: 10px;
        }
        .carousel .next {
            right: 10px;
        }
        .carousel .dots {
            position: absolute;
            bottom: 10px;
            width: 100%;
            text-align: center;
        }
        .carousel .dots span {
            cursor: pointer;
            display: inline-block;
            width: 15px;
            height: 15px;
            margin: 0 5px;
            background-color: #bbb;
            border-radius: 50%;
        }
        .carousel .dots span.active {
            background-color: #717171;
        }
        .nav{
            width:60px;
            border-radius: 16px;
            overflow: hidden;
            transition: 0.5s;
            opacity: 0.6;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: black;
        }
        tr:hover {
            background-color: bisque;
        }
        tr:hover td{
            color: black;
        }
    </style>
</head>
<body>

<div th:replace="fragments/navbar :: navbar"></div>

<!-- 非遗项目展示区域 -->
<div class="container mt-5 " >
    <h1 class="text-center mb-4">代县非遗</h1>
    <div class="row">
        <!-- 非遗项目卡片 -->
        <div class="carousel" style="border-radius: 3px;">
            <img src="../img/pic1.jpg" style="height: 400px;" alt="Image 1" class="active">
            <img src="../img/pic6.jpg" style="height: 400px;" alt="Image 2">
            <img src="../img/pic4.jpg" style="height: 400px;" alt="Image 3">
            <img src="../img/pic2.jpg" style="height: 400px;" alt="Image 3">
            <img src="../img/pic9.jpg" style="height: 400px;" alt="Image 3">
            <img src="../img/pic10.jpeg" style="height: 400px;" alt="Image 3">
            <div class="prev" onclick="moveSlide(-1)">&#10094;</div>
            <div class="next" onclick="moveSlide(1)">&#10095;</div>
            <div class="dots">
                <span class="dot active" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
                <span class="dot active" onclick="currentSlide(4)"></span>
                <span class="dot" onclick="currentSlide(5)"></span>
                <span class="dot" onclick="currentSlide(6)"></span>
            </div>
        </div>
    </div>




</div>
<hr>
<div class="container mt-5">
    <h1 class="text-center mb-4">代县非遗3d展示</h1>
    <div class="row">
        <!-- 传承人卡片 -->
        <div class="col-md-4 mb-4">
            <div class="card2">
                <img src="../img/pic4.jpg" style="height: 300px;" class="card-img-top" alt="泥塑">
                <div class="card-body">
                    <h5 class="card-title">精巧泥塑</h5>
                    <p class="card-text">点击进入沉浸3d</p>
                    <a href="inheritor1.html" class="btn btn-primary">查看详情</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card2">
                <img src="../img/pic6.jpg" style="height: 300px;" class="card-img-top" alt="龙雕">
                <div class="card-body">
                    <h5 class="card-title">龙雕楼角</h5>
                    <p class="card-text">点击进入沉浸3d</p>
                    <a href="inheritor2.html" class="btn btn-primary">查看详情</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card2">
                <img src="../img/pic9.jpg" class="card-img-top" style="height: 300px" alt="刺绣">
                <div class="card-body">
                    <h5 class="card-title">唯美刺绣</h5>
                    <p class="card-text">点击进入沉浸3d</p>
                    <a href="inheritor3.html" class="btn btn-primary">查看详情</a>
                </div>
            </div>
        </div>
    </div>
</div>
<hr>
<div>
    <h2 align="center">非遗项目信息表</h2>
    <form th:action="@{/submitForm}" method="post">
    <table>
        <thead>

        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Category</th>
            <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td id="id"></tdid>
            <td id="name"></td>
            <td id="category"></td>
            <td id="description"></td>
        </tr>
<!--        <tr>-->
<!--            <td>2</td>-->
<!--            <td>京剧</td>-->
<!--            <td>传统戏剧</td>-->
<!--            <td>京剧是中国的一种传统戏曲形式，具有独特的唱腔和表演风格。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>3</td>-->
<!--            <td>中医针灸</td>-->
<!--            <td>传统医药</td>-->
<!--            <td>中医针灸是一种通过针刺穴位来治疗疾病的传统医学方法。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>4</td>-->
<!--            <td>皮影戏</td>-->
<!--            <td>传统戏剧</td>-->
<!--            <td>皮影戏是一种通过操纵皮影进行表演的传统戏剧形式。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>5</td>-->
<!--            <td>中国书法</td>-->
<!--            <td>传统艺术</td>-->
<!--            <td>书法是中国传统的书写艺术，注重笔法和结构。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>6</td>-->
<!--            <td>中国武术</td>-->
<!--            <td>传统体育</td>-->
<!--            <td>武术是中国传统的体育形式，包括各种拳法和器械。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>7</td>-->
<!--            <td>中国茶艺</td>-->
<!--            <td>传统技艺</td>-->
<!--            <td>茶艺是一种通过泡茶和品茶来展示茶文化的传统技艺。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>8</td>-->
<!--            <td>中国刺绣</td>-->
<!--            <td>传统手工艺</td>-->
<!--            <td>刺绣是一种通过针线在布料上绣出图案的传统手工艺。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>9</td>-->
<!--            <td>中国古建筑</td>-->
<!--            <td>传统建筑</td>-->
<!--            <td>古建筑是中国传统的建筑形式，具有独特的结构和装饰。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>10</td>-->
<!--            <td>中国民间故事</td>-->
<!--            <td>传统文学</td>-->
<!--            <td>民间故事是中国传统文学的重要组成部分，包含了许多传说和故事。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>11</td>-->
<!--            <td>中国民间音乐</td>-->
<!--            <td>传统音乐</td>-->
<!--            <td>民间音乐是中国传统音乐的重要组成部分，具有丰富的地域特色。</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td>12</td>-->
<!--            <td>中国民间舞蹈</td>-->
<!--            <td>传统舞蹈</td>-->
<!--            <td>民间舞蹈是中国传统舞蹈的重要组成部分，具有丰富的地域特色。</td>-->
<!--        </tr>-->

        </tbody>
    </table>
        <div class="heritage-list">
            <div th:each="item : ${heritageList}" class="heritage-row">
                <a th:href="@{'/admin/heritage/detail?id=' + ${item.id}}" th:text="${item.name}"
                   class="heritage-name-link"></a>
                <div class="heritage-actions">
                    <a th:href="@{'/admin/heritage/edit?id=' + ${item.id}}" class="action-button edit-btn">Edit</a>

                    <!-- 注意：用 data-id 记录要删除的 ID -->
                    <a href="#" class="action-button delete-btn"
                       th:attr="data-id=${item.id}"
                       data-bs-toggle="modal"
                       data-bs-target="#confirmDeleteModal">
                        Delete
                    </a>


                </div>
            </div>
        </div>
    </form>
    <div class="heritage-list">
        <div th:each="item : ${heritageList}" class="heritage-row">
            <a th:href="@{'/admin/heritage/detail?id=' + ${item.id}}" th:text="${item.name}"
               class="heritage-name-link"></a>
            <div class="heritage-actions">
                <a th:href="@{'/admin/heritage/edit?id=' + ${item.id}}" class="action-button edit-btn">Edit</a>

                <!-- 注意：用 data-id 记录要删除的 ID -->
                <a href="#" class="action-button delete-btn"
                   th:attr="data-id=${item.id}"
                   data-bs-toggle="modal"
                   data-bs-target="#confirmDeleteModal">
                    Delete
                </a>


            </div>
        </div>
    </div>

<!--    <script>-->
<!--        var data= '<%= request.getAttribute("id") %>';-->
<!--        var data1='<%= request.getAttribute("name") %>';-->
<!--        var data2='<%= request.getAttribute("category") %>';-->
<!--        var data3='<%= request.getAttribute("description") %>';-->
<!--        document.getElementById("id").innerHTML=data;-->
<!--        document.getElementById("name").innerHTML=data1;-->
<!--        document.getElementById("category").innerHTML=data2;-->
<!--        document.getElementById("description").innerHTML=data3;-->
<!--    </script>-->
</div>
<script>
        let slideIndex = 1;
        showSlides(slideIndex);

        function moveSlide(n) {
            showSlides(slideIndex += n);
        }

        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        function showSlides(n) {
            let slides = document.querySelectorAll('.carousel img');
            let dots = document.querySelectorAll('.dot');
            if (n > slides.length) { slideIndex = 1 }
            if (n < 1) { slideIndex = slides.length }
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            slides[slideIndex - 1].classList.add('active');
            dots[slideIndex - 1].classList.add('active');
        }

        // 自动轮播
        setInterval(() => {
            moveSlide(1);
        }, 3000); // 每3秒自动切换到下一张图片
    </script>
    <script th:src="@{/webjars/bootstrap/5.3.3/js/bootstrap.bundle.min.js}"></script>
    <script th:inline="javascript">
        const ctxPath = [[${#httpServletRequest.contextPath}]];
        document.addEventListener('DOMContentLoaded', function () {
            const deleteButtons = document.querySelectorAll('.delete-btn');
            const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');

            deleteButtons.forEach(btn => {
                btn.addEventListener('click', function () {
                    const heritageId = this.getAttribute('data-id');
                    confirmDeleteBtn.href = ctxPath + '/admin/heritage/delete?id=' + encodeURIComponent(heritageId);
                });
            });
        });
    </script>

<!-- Bootstrap 脚本支持 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>